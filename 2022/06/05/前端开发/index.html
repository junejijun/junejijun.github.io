<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>前端开发 | Hexo</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">前端开发</h1><a id="logo" href="/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">前端开发</h1><div class="post-meta">2022-06-05</div><div class="post-content"><h1 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h1><p>var、let与const的区别</p>
<ol>
<li>var声明的变量会挂载在Window上，而let和const声明的变量不会</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,<span class="variable language_">window</span>.<span class="property">a</span>);<span class="comment">//100 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b,<span class="variable language_">window</span>.<span class="property">b</span>);<span class="comment">//100 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c,<span class="variable language_">window</span>.<span class="property">c</span>);<span class="comment">//100 undefined</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>var声明的变量存在变量提升，而let和const声明的变量不存在变量提升</li>
<li>let和const声明会形成块作用域</li>
<li>同一作用域下let和const不能声明同名变量，而var可以</li>
<li>const变量一但被声明，则必须复制且不能使用null占位；声明后不能再修改，但如果声明的是复合类型数据，则可以修改其属性</li>
</ol>
<h1 id="与-、-与-的却别"><a href="#与-、-与-的却别" class="headerlink" title="==与===、!=与!==的却别"></a><code>==</code>与<code>===</code>、<code>!=</code>与<code>!==</code>的却别</h1><p><code>==</code>与<code>===</code>的区别</p>
<ul>
<li><code>==</code>用来比较或判断两者的值是否相等，数据类型不强求一致，因为在比较时可以自动转换数据类型；</li>
<li><code>===</code>用来比较或判断两者的值和数据类型是否相等，如果数据类型不同也不自动进行转换；</li>
</ul>
<p><code>!=</code>与<code>!==</code>的区别</p>
<ul>
<li><code>!=</code>用来比较或判断两者的值是否不相等，比较时会可以自动转换成相同的数据类型；</li>
<li><code>!==</code>用来比较或判断两者的值和数据类型是否不相等，只有当值和数据类型都相等值时才返回<code>true</code>，否则返回<code>false</code></li>
</ul>
<h1 id="undefined和null区别"><a href="#undefined和null区别" class="headerlink" title="undefined和null区别"></a><code>undefined</code>和<code>null</code>区别</h1><h1 id="数组相关操作"><a href="#数组相关操作" class="headerlink" title="数组相关操作"></a>数组相关操作</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">6</span>);<span class="comment">//[1,2,3,4,5,6]</span></span><br><span class="line">arr.<span class="title function_">unshift</span>(<span class="number">6</span>);<span class="comment">//[6,1,2,3,4,5]</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">3</span>,<span class="number">0</span>,<span class="number">6</span>);<span class="comment">//[1,2,3,6,4,5]; 在数组下标为3处插入数字6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除数组元素</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//[3,4,5]; 从数组下标为0处，往后删除2个元素</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;赵六&#x27;</span>];</span><br><span class="line"><span class="comment">//currentValue为数组中正在处理的当前元素；index为数组中正在处理的当前元素的索引；arr为forEach()方法正在操作的数组</span></span><br><span class="line">arr.<span class="title function_">foreach</span>(<span class="function">(<span class="params">currentValue,index,arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//函数体</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//foreach遍历中止</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;赵六&#x27;</span>];</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    arr.<span class="title function_">foreach</span>(<span class="function">(<span class="params">currentValue,index,arr</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//满足中止条件则立刻停止遍历，抛出异常</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;LoopInterrupt&#x27;</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">message</span> != <span class="string">&#x27;LoopInterrupt&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> e</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组中查找指定元素</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;赵六&#x27;</span>];</span><br><span class="line">arr.<span class="title function_">indexOf</span>(<span class="string">&#x27;李四&#x27;</span>);<span class="comment">//输出1</span></span><br><span class="line">arr.<span class="title function_">indexOf</span>(<span class="string">&#x27;赵四&#x27;</span>);<span class="comment">//输出-1</span></span><br><span class="line"><span class="keyword">if</span>(arr.<span class="title function_">indexOf</span>(element) &gt; -<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="comment">//元素存在与数组中</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="对象相关操作"><a href="#对象相关操作" class="headerlink" title="对象相关操作"></a>对象相关操作</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加元素</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">方式一: key为常量，value为常量/变量</span><br><span class="line">obj.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">方式二：key为变量，value为常量/变量</span><br><span class="line"><span class="keyword">let</span> variable1 = <span class="string">&#x27;hobby&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> variable2 = <span class="string">&#x27;学编程&#x27;</span>;</span><br><span class="line"></span><br><span class="line">obj[variable1] = variable2;	<span class="comment">//obj:&#123;name: &#x27;张三&#x27;, sex: &#x27;男&#x27;, age: 18, hobby: &#x27;学编程&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历对象</span></span><br><span class="line">方式一：<span class="keyword">for</span> <span class="keyword">in</span>,遍历对象的可枚举属性，包括自有属性、继承自原型的属性</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);		<span class="comment">//name、sex、age、hobby</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[i]);	<span class="comment">//张三、男、18、学编程</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">方式二：<span class="title class_">Object</span>.<span class="property">keys</span>,遍历对象可枚举的自有属性</span><br><span class="line"><span class="comment">//输出(4) [Array(2), Array(2), Array(2), Array(2)]</span></span><br><span class="line"><span class="comment">//		 0: (2) [&#x27;name&#x27;, &#x27;张三&#x27;]</span></span><br><span class="line"><span class="comment">//		 1: (2) [&#x27;sex&#x27;, &#x27;男&#x27;]</span></span><br><span class="line"><span class="comment">//		 2: (2) [&#x27;age&#x27;, 18]</span></span><br><span class="line"><span class="comment">//		 3: (2) [&#x27;hobby&#x27;, &#x27;学编程&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj));	</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj));	<span class="comment">//[&#x27;name&#x27;, &#x27;sex&#x27;, &#x27;age&#x27;, &#x27;hobby&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(obj));	<span class="comment">//[&#x27;张三&#x27;,&#x27;男&#x27;,18,&#x27;学编程&#x27;]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">foreach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key);	<span class="comment">//name、sex、age、hobby</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[key]);	<span class="comment">//张三、男、18、学编程</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">方式三：<span class="title class_">Object</span>.<span class="property">getOwnProperty</span>,遍历对象的自有属性，包括可枚举和不可枚举的属性</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(obj));  <span class="comment">//[&#x27;name&#x27;, &#x27;sex&#x27;, &#x27;age&#x27;, &#x27;hobby&#x27;]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(obj).<span class="title function_">foreach</span>(<span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name);	<span class="comment">//name、sex、age、hobby</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[name]);	<span class="comment">//张三、男、18、学编程</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="平台组件"><a href="#平台组件" class="headerlink" title="平台组件"></a>平台组件</h1><h2 id="SunTable"><a href="#SunTable" class="headerlink" title="SunTable"></a>SunTable</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; SunTable &#125; from &#x27;@ibms/ui&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;full&quot;&gt;</span><br><span class="line">    &lt;sun-table</span><br><span class="line">      :data=&quot;data&quot;</span><br><span class="line">      :pageResult=&quot;pageResult&quot;</span><br><span class="line">      :queryParams.sync=&quot;queryParams&quot;</span><br><span class="line">      :pageSizes=&quot;pageSizes&quot;</span><br><span class="line">      v-loading=&quot;loading&quot;</span><br><span class="line">      @load=&quot;loadData&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-table-column fixed type=&quot;index&quot; label=&quot;序号&quot; width=&quot;50&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column type=&quot;index&quot; label=&quot;项目名称和状态&quot; width=&quot;400&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;策划情况&quot; width=&quot;100&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;任务&quot; width=&quot;150&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;时间/进度自评&quot; width=&quot;150&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;成本(元)&quot; width=&quot;100&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;报告&quot; width=&quot;100&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;动态&quot; width=&quot;70&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/sun-table&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; SunTable &#125; from &#x27;@ibms/ui&#x27;</span><br><span class="line">import &#123; getList &#125; from &#x27;@/api/projectInfo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;ProjectList&#x27;,</span><br><span class="line">  components: &#123; SunTable &#125;,</span><br><span class="line">  props: [&#x27;xmlx&#x27;, &#x27;queryConditions&#x27;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      data: [],</span><br><span class="line">      pageResult: &#123;&#125;,</span><br><span class="line">      queryParams: &#123;</span><br><span class="line">        fieldLogic: &#123; Q$F_xmlx$SL: &#x27;&#x27; &#125;,</span><br><span class="line">        limit: 20,</span><br><span class="line">        page: 1,</span><br><span class="line">      &#125;,</span><br><span class="line">      pageSizes: [10, 20, 50, 100],</span><br><span class="line">      loading: false,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async loadData() &#123;</span><br><span class="line">      debugger</span><br><span class="line">      this.addQueryConditions()</span><br><span class="line">      this.loading = true</span><br><span class="line">      const projectData = await getList(this.queryParams)</span><br><span class="line">      this.data = projectData.data</span><br><span class="line">      this.pageResult = projectData.pageResult</span><br><span class="line">      this.loading = false</span><br><span class="line">    &#125;,</span><br><span class="line">    //增加查询条件</span><br><span class="line">    addQueryConditions() &#123;</span><br><span class="line">      if (this.queryConditions !== undefined) &#123;</span><br><span class="line">        this.queryConditions.forEach(item =&gt; &#123;</span><br><span class="line">          let key = Object.keys(item)</span><br><span class="line">          let value = item[key]</span><br><span class="line">          this.$set(this.queryParams.fieldLogic, key, value)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    routerToProjectExecutingProcess(index) &#123;</span><br><span class="line">      debugger</span><br><span class="line">      let xmlx = this.data[index].xmh.split(&#x27;&#x27;)[0]</span><br><span class="line">      let multiTabAlias = &#x27;&#x27;</span><br><span class="line">      if (xmlx == &#x27;K&#x27; || xmlx == &#x27;B&#x27;) &#123;</span><br><span class="line">        multiTabAlias = &#x27;kyxm&#x27;</span><br><span class="line">      &#125; else if (xmlx == &#x27;T&#x27;) &#123;</span><br><span class="line">        multiTabAlias = &#x27;gtxm&#x27;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        multiTabAlias = &#x27;xhxm&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      this.$router.push(&#123;</span><br><span class="line">        name: &#x27;datatemplateMultiTabView&#x27;,</span><br><span class="line">        params: &#123;</span><br><span class="line">          //项目权限管理-项目类型中的别名</span><br><span class="line">          typeAlias: multiTabAlias,</span><br><span class="line">          dataId: this.data[index].id,</span><br><span class="line">          tabTitle: this.data[index].xmmc,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    xmlx: &#123;</span><br><span class="line">      //当项目类型改变时执行</span><br><span class="line">      handler() &#123;</span><br><span class="line">        if (this.xmlx != &#x27;&#x27; &amp;&amp; this.xmlx != &#x27;xmlx&#x27;) &#123;</span><br><span class="line">          this.queryParams.fieldLogic.Q$F_xmlx$SL = this.xmlx</span><br><span class="line">        &#125;</span><br><span class="line">        this.loadData()</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="SunTree"><a href="#SunTree" class="headerlink" title="SunTree"></a>SunTree</h2><blockquote>
<p>props参数介绍</p>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td></td>
</tr>
<tr>
<td>props</td>
<td></td>
</tr>
<tr>
<td>toolbar</td>
<td></td>
</tr>
<tr>
<td>defaultExpandAll</td>
<td></td>
</tr>
<tr>
<td>style</td>
<td></td>
</tr>
<tr>
<td>@load</td>
<td></td>
</tr>
<tr>
<td>@node-click</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; SunTree &#125; from &#x27;@ibms/ui&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;full&quot;&gt;</span><br><span class="line">    &lt;sun-tree</span><br><span class="line">      class=&quot;sun-tree&quot;</span><br><span class="line">      :data=&quot;treeData&quot;</span><br><span class="line">      :props=&quot;&#123; label: &#x27;name&#x27; &#125;&quot;</span><br><span class="line">      :toolbar=&quot;false&quot;</span><br><span class="line">      :defaultExpandAll=&quot;true&quot;</span><br><span class="line">      :style=&quot;treeStyle&quot;</span><br><span class="line">      @load=&quot;loadTree&quot;</span><br><span class="line">      @node-click=&quot;handleTreeClick&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;/sun-tree&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; SunTree &#125; from &#x27;@ibms/ui&#x27;</span><br><span class="line">import &#123; getDicTable &#125; from &#x27;@ibms/form/api/dictionary/index&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;ProjectTree&#x27;,</span><br><span class="line">  components: &#123; SunTree &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      treeData: [],</span><br><span class="line">      treeStyle: &#123;</span><br><span class="line">        height: &#x27;100%&#x27;,</span><br><span class="line">      &#125;,</span><br><span class="line">      isLeaf: false,</span><br><span class="line">      xmlx: &#x27;&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    //获取项目树中节点数据</span><br><span class="line">    async loadTree() &#123;</span><br><span class="line">      const &#123; data &#125; = await getDicTable(&#x27;1503666236423143424&#x27;)</span><br><span class="line">      this.treeData = data</span><br><span class="line">    &#125;,</span><br><span class="line">    //点击树中节点触发</span><br><span class="line">    handleTreeClick(nodeData) &#123;</span><br><span class="line">      this.xmlx = nodeData.key</span><br><span class="line">      //触发自定义事件getXmlx，并传送xmlx值</span><br><span class="line">      this.$emit(&#x27;getXmlx&#x27;, this.xmlx)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h2 id="TemplatePreview"><a href="#TemplatePreview" class="headerlink" title="TemplatePreview"></a>TemplatePreview</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import TemplatePreview from &#x27;@ibms/form/views/dataTemplate/preview&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;TemplatePreview</span><br><span class="line">      templateKey=&quot;yzxmbg&quot;</span><br><span class="line">      :customQueryParams=&quot;customQueryParams&quot;</span><br><span class="line">&gt;&lt;/TemplatePreview&gt;</span><br><span class="line"></span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    	customQueryParams: &#x27;F_ssxmid = &#x27; + this.$route.params.dataId,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="FormPreview"><a href="#FormPreview" class="headerlink" title="FormPreview"></a>FormPreview</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import FormPreview from &#x27;@ibms/form/views/dataTemplate/FormPreview&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="StartFlow"><a href="#StartFlow" class="headerlink" title="StartFlow"></a>StartFlow</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import StartFlow from &#x27;@ibms/bpmn/components/StartFlow&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button type=&quot;primary&quot; @click=&quot;dialogTableVisible = true&quot;&gt;项目信息变更&lt;/el-button&gt;</span><br><span class="line">&lt;StartFlow</span><br><span class="line">	v-if=&quot;dialogTableVisible&quot;</span><br><span class="line">	:visible.sync=&quot;dialogTableVisible&quot;</span><br><span class="line">	title=&quot;项目信息变更&quot;</span><br><span class="line">	flow-id=&quot;1526012199791755264&quot;</span><br><span class="line">	action=&quot;flow-add&quot;</span><br><span class="line">	:selfDefinedParams=&quot;xmxxbgParams&quot;</span><br><span class="line">&gt;&lt;/StartFlow&gt;</span><br><span class="line"></span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      	dialogTableVisible: false,</span><br><span class="line">      	xmxxbgParams: &#123; bglx: &#x27;项目信息变更&#x27; &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="获取项目ID"><a href="#获取项目ID" class="headerlink" title="获取项目ID"></a>获取项目ID</h1><ol>
<li><code>this.$route.params.dataId</code></li>
</ol>
<h1 id="获取项目执行过程中多tab参数"><a href="#获取项目执行过程中多tab参数" class="headerlink" title="获取项目执行过程中多tab参数"></a>获取项目执行过程中多tab参数</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//固定写法</span><br><span class="line">multiTabParams: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="Echarts组件"><a href="#Echarts组件" class="headerlink" title="Echarts组件"></a>Echarts组件</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;full&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;planChartId&quot; style=&quot;height: 300px; width: 100%&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import * as echarts from &#x27;echarts&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;PlanPieChart&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      chartPie: null,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    drawPlanPieChart() &#123;</span><br><span class="line">      this.chartPie = echarts.init(document.getElementById(&#x27;planChartId&#x27;))</span><br><span class="line">      this.chartPie.setOption(&#123;</span><br><span class="line">        //标题</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: &#x27;计划数：400&#x27;,</span><br><span class="line">          x: &#x27;center&#x27;,</span><br><span class="line">          textStyle: &#123;</span><br><span class="line">            fontSize: 18,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        //提示框</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          trigger: &#x27;item&#x27;,</span><br><span class="line">          formatter: &#x27;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [</span><br><span class="line">          &#123;</span><br><span class="line">            type: &#x27;pie&#x27;,</span><br><span class="line">            radius: &#x27;55%&#x27;,</span><br><span class="line">            center: [&#x27;50%&#x27;, &#x27;50%&#x27;],</span><br><span class="line">            data: [</span><br><span class="line">              &#123; value: 150, name: &#x27;编制中&#x27; &#125;,</span><br><span class="line">              &#123; value: 50, name: &#x27;已下达&#x27; &#125;,</span><br><span class="line">              &#123; value: 50, name: &#x27;进行中&#x27; &#125;,</span><br><span class="line">              &#123; value: 100, name: &#x27;变更中&#x27; &#125;,</span><br><span class="line">              &#123; value: 50, name: &#x27;已完成&#x27; &#125;,</span><br><span class="line">            ],</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">              normal: &#123;</span><br><span class="line">                label: &#123;</span><br><span class="line">                  color: &#x27;grey&#x27;,</span><br><span class="line">                  fontSize: 16,</span><br><span class="line">                  show: true,</span><br><span class="line">                  formatter: &#x27;&#123;b&#125;\n&#123;d&#125;%&#x27;,</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;,</span><br><span class="line">              emphasis: &#123;</span><br><span class="line">                shadowBlur: 10,</span><br><span class="line">                shadowOffsetX: 0,</span><br><span class="line">                shadowColor: &#x27;rgba(0, 0, 0, 0.5)&#x27;,</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.drawPlanPieChart()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="elementUI组件"><a href="#elementUI组件" class="headerlink" title="elementUI组件"></a>elementUI组件</h1><h2 id="el-button"><a href="#el-button" class="headerlink" title="el-button"></a>el-button</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button-group&gt;</span><br><span class="line">    &lt;el-button size=&quot;medium&quot; type=&quot;primary&quot;&gt;按钮1&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button size=&quot;small&quot; type=&quot;primary&quot;&gt;按钮2&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot;&gt;按钮3&lt;/el-button&gt;</span><br><span class="line">&lt;/el-button-group&gt;</span><br><span class="line"></span><br><span class="line">&lt;el-button style=&quot;padding: 2px 5px; width: 100px&quot; type=&quot;primary&quot;&gt;按钮尺寸&lt;/el-button&gt;&lt;br/&gt;</span><br></pre></td></tr></table></figure>



<h2 id="el-tag"><a href="#el-tag" class="headerlink" title="el-tag"></a>el-tag</h2><h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><blockquote>
<p><strong>总结：</strong></p>
</blockquote>
<ol>
<li>str.match(reg)如果满足正则表达式返回<code>数组</code>，否则返回<code>null</code></li>
<li>reg.test(str)如果满足正则表达式返回<code>true</code>，否则返回<code>false</code></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一</span></span><br><span class="line"><span class="keyword">let</span> xmlx = <span class="string">&#x27;J1&#x27;</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;^[KB]&#x27;</span>)	<span class="comment">//以K或B开头</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;^T&#x27;</span>)		<span class="comment">//以T开头</span></span><br><span class="line"><span class="keyword">if</span> (xmlx.<span class="title function_">match</span>(reg1) !== <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="comment">//xmlx以K或B开头</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (xmlx.<span class="title function_">match</span>(reg2) !== <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="comment">//xmlx以T开头</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二</span></span><br><span class="line"><span class="keyword">let</span> field = <span class="string">&#x27;F_xmmcbgh&#x27;</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/bgh$/</span>	<span class="comment">//以bgh结尾</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/jch$/</span>	<span class="comment">//以jch结尾</span></span><br><span class="line"><span class="keyword">if</span> (reg1.<span class="title function_">test</span>(field))&#123;</span><br><span class="line">    <span class="comment">//field以bgh结尾</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (reg2.<span class="title function_">test</span>(field))&#123;</span><br><span class="line">    <span class="comment">//field以jch结尾</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h1><h2 id="平台配置脚本-getSelectInfo-x2F-conditionSelect"><a href="#平台配置脚本-getSelectInfo-x2F-conditionSelect" class="headerlink" title="平台配置脚本(getSelectInfo&#x2F;conditionSelect)"></a>平台配置脚本(getSelectInfo&#x2F;conditionSelect)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//getSelectInfo</span></span><br><span class="line"><span class="keyword">let</span> res = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> businessKey = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">dataId</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">&#x27;/pm/common/getSelectInfo&#x27;</span></span><br><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;select&#x27;</span>,		<span class="comment">//String</span></span><br><span class="line">    <span class="attr">tableName</span>: <span class="string">&#x27;w_xmb&#x27;</span>,	<span class="comment">//String</span></span><br><span class="line">    <span class="attr">condition</span>: <span class="string">&#x27;*&#x27;</span>, 	<span class="comment">//String</span></span><br><span class="line">    <span class="attr">where</span>: <span class="string">&#x27;ID_=\&#x27;&#x27;</span> + businessKey + <span class="string">&#x27;\&#x27;&#x27;</span>,	<span class="comment">//String</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> _req.<span class="title function_">post</span>(url,params)</span><br><span class="line"><span class="keyword">if</span>(response.<span class="property">meta</span>.<span class="property">success</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> acquiredData = response.<span class="property">data</span></span><br><span class="line">    <span class="keyword">if</span>(acquiredData != <span class="literal">null</span> &amp;&amp; acquiredData != <span class="literal">undefined</span> &amp;&amp; acquiredData != <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">//进行相关操作</span></span><br><span class="line">    &#125;</span><br><span class="line">    res = <span class="literal">true</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    _this.<span class="title function_">message</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="attr">center</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">message</span>: response.<span class="property">meta</span>.<span class="property">message</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment">//conditionSelect</span></span><br><span class="line"><span class="keyword">let</span> res = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> rwids = <span class="string">&#x27;1524925079639556096,1524925476659789824&#x27;</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">&#x27;/pm/common/conditionSelect&#x27;</span></span><br><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">    <span class="attr">tableName</span>: <span class="string">&#x27;w_rwb&#x27;</span>,</span><br><span class="line">    <span class="attr">conditionFields</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;IN&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;ID_&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: rwids,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> _req.<span class="title function_">get</span>(<span class="string">`<span class="subst">$&#123;url&#125;</span>?<span class="subst">$&#123;_qs.stringify(params)&#125;</span>`</span>)</span><br><span class="line"><span class="keyword">let</span> rwData</span><br><span class="line"><span class="keyword">if</span>(response.<span class="property">meta</span>.<span class="property">success</span>)&#123;</span><br><span class="line">    rwData = response.<span class="property">data</span></span><br><span class="line">    <span class="keyword">if</span>(xmData != <span class="literal">null</span> &amp;&amp; xmData != <span class="literal">undefined</span> &amp;&amp; xmData != <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">//进行相关操作</span></span><br><span class="line">    &#125;</span><br><span class="line">    res = <span class="literal">true</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    _this.<span class="title function_">message</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="attr">center</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">message</span>: response.<span class="property">meta</span>.<span class="property">message</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h2 id="前端公用工具-conditionSelect"><a href="#前端公用工具-conditionSelect" class="headerlink" title="前端公用工具(conditionSelect)"></a>前端公用工具(conditionSelect)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">    <span class="attr">tableName</span>: <span class="string">&#x27;w_xmb&#x27;</span>,		<span class="comment">//String</span></span><br><span class="line">    <span class="attr">selectFields</span>: <span class="string">&#x27;*&#x27;</span>,		<span class="comment">//List&lt;String&gt;(数组)</span></span><br><span class="line">    <span class="attr">conditionFields</span>: [		<span class="comment">//JSONArray(数组对象)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;ID_&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">dataId</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">select</span>(params);</span><br><span class="line"><span class="comment">//let acquiredData = (await select(params)).data</span></span><br><span class="line"><span class="keyword">if</span> (response.<span class="property">meta</span>.<span class="property">success</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> acquiredData = response.<span class="property">data</span></span><br><span class="line">    <span class="keyword">if</span> (acquiredData.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//进行相关操作</span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="前端专用代码-getById-x2F-getList"><a href="#前端专用代码-getById-x2F-getList" class="headerlink" title="前端专用代码(getById&#x2F;getList)"></a>前端专用代码(getById&#x2F;getList)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取单个项目</span></span><br><span class="line"><span class="keyword">let</span> acquiredData = <span class="keyword">await</span> <span class="title function_">getById</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">dataId</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取多个项目</span></span><br><span class="line"><span class="attr">queryParams</span>: &#123;</span><br><span class="line">    <span class="comment">////SL(相似)、S(等于)、IN(在...中)、NE(不等于)、BT(在...之间)、SLR(右相似)、SLL(左相似)、DS（日期类型查询条件-相等）、DGR（日期类型查询条件-大于）、DLE（日期类型查询条件-小于）、DL（日期类型查询条件-大于等于）、DG（日期类型查询条件-小于等于）</span></span><br><span class="line">    <span class="attr">fieldLogic</span>: &#123; </span><br><span class="line">        <span class="attr">Q$F_xmlx$SL</span>: <span class="string">&#x27;J&#x27;</span> </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sort</span>: <span class="string">&#x27;F_sfzdgz,F_zdgzsj,F_xmxdsj&#x27;</span>,</span><br><span class="line">    <span class="attr">order</span>: <span class="string">&#x27;desc,desc,asc&#x27;</span>,	<span class="comment">//降序desc；升序acs</span></span><br><span class="line">    <span class="attr">limit</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">page</span>: <span class="number">1</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">getList</span>(<span class="variable language_">this</span>.<span class="property">queryParams</span>)</span><br><span class="line"><span class="keyword">if</span> (response.<span class="property">meta</span>.<span class="property">success</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> acquiredData = response.<span class="property">data</span></span><br><span class="line">    <span class="keyword">if</span> (acquiredData.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//进行相关操作</span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="条件更新"><a href="#条件更新" class="headerlink" title="条件更新"></a>条件更新</h1><h2 id="平台配置脚本-getSelectInfo-x2F-updateFieldValueById-x2F-conditionUpdate"><a href="#平台配置脚本-getSelectInfo-x2F-updateFieldValueById-x2F-conditionUpdate" class="headerlink" title="平台配置脚本(getSelectInfo&#x2F;updateFieldValueById&#x2F;conditionUpdate)"></a>平台配置脚本(getSelectInfo&#x2F;updateFieldValueById&#x2F;conditionUpdate)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">&#x27;/pm/common/conditionUpdate&#x27;</span></span><br><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;UPDATE&#x27;</span>,		<span class="comment">//String</span></span><br><span class="line">    <span class="attr">tableName</span>: <span class="string">&#x27;w_xmb&#x27;</span>,	<span class="comment">//String</span></span><br><span class="line">    <span class="attr">updateFields</span>: [		<span class="comment">//JSONArray(数组对象)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;F_xmzt&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="string">&#x27;审批中&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">conditionFields</span>: [	<span class="comment">//JSONArray(数组对象)	</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;E&#x27;</span>,	<span class="comment">//E:=; </span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;ID_&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">dataId</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> _req.<span class="title function_">post</span>(url,params)</span><br><span class="line"><span class="keyword">if</span>(response.<span class="property">meta</span>.<span class="property">success</span>)&#123;</span><br><span class="line">    res = <span class="literal">true</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    _this.<span class="title function_">message</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="attr">center</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">message</span>: response.<span class="property">meta</span>.<span class="property">message</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h2 id="前端公用工具-conditionUpdate"><a href="#前端公用工具-conditionUpdate" class="headerlink" title="前端公用工具(conditionUpdate)"></a>前端公用工具(conditionUpdate)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;update&#x27;</span>,</span><br><span class="line">    <span class="attr">tableName</span>: <span class="string">&#x27;w_xmb&#x27;</span>,</span><br><span class="line">    <span class="attr">updateFields</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;F_sfzdgz&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: sfzdgz,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;F_zdgzsj&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: zdgzsj,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">conditionFields</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;E&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;ID_&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">dataId</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">await</span> <span class="title function_">update</span>(params)</span><br></pre></td></tr></table></figure>

<h2 id="前端专用代码-update"><a href="#前端专用代码-update" class="headerlink" title="前端专用代码(update)"></a>前端专用代码(update)</h2><h1 id="表单管理"><a href="#表单管理" class="headerlink" title="表单管理"></a>表单管理</h1><h2 id="数据建模"><a href="#数据建模" class="headerlink" title="数据建模"></a>数据建模</h2><h2 id="表单设计"><a href="#表单设计" class="headerlink" title="表单设计"></a>表单设计</h2><h3 id="引入脚本"><a href="#引入脚本" class="headerlink" title="引入脚本"></a>引入脚本</h3><h4 id="主表-x2F-主表字段隐藏、只读、赋值操作"><a href="#主表-x2F-主表字段隐藏、只读、赋值操作" class="headerlink" title="主表&#x2F;主表字段隐藏、只读、赋值操作"></a>主表&#x2F;主表字段隐藏、只读、赋值操作</h4><blockquote>
<p>Tips：主表字段是不带<code>F_</code>的</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//主表隐藏</span></span><br><span class="line">_this.<span class="property">permission</span>.<span class="property">table</span>.主表名.<span class="property">hidden</span> = <span class="literal">true</span> <span class="comment">//???</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//主表字段隐藏</span></span><br><span class="line">_this.<span class="property">permission</span>.<span class="property">fields</span>.主表名.主表字段 = <span class="string">&#x27;n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//主表字段只读</span></span><br><span class="line">_this.<span class="property">permission</span>.<span class="property">fields</span>.主表名.主表字段 = <span class="string">&#x27;r&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//主表字段赋值</span></span><br><span class="line">data.主表名.主表字段 = 赋值数据</span><br><span class="line">_this.$set(data.主表名,<span class="string">&#x27;主表字段&#x27;</span>,赋值数据)</span><br><span class="line">_this.<span class="property">formData</span>.主表名.主表字段 = 赋值数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取主表字段数据</span></span><br><span class="line"><span class="keyword">let</span> dataVal = data.主表名.主表字段	<span class="comment">//???</span></span><br><span class="line"><span class="keyword">let</span> dataVal = _this.<span class="property">formData</span>.主表名.主表字段</span><br></pre></td></tr></table></figure>

<h4 id="子表-x2F-子表字段隐藏、只读、赋值操作"><a href="#子表-x2F-子表字段隐藏、只读、赋值操作" class="headerlink" title="子表&#x2F;子表字段隐藏、只读、赋值操作"></a>子表&#x2F;子表字段隐藏、只读、赋值操作</h4><blockquote>
<p>Tips：子表名为在数据建模中绑定子表是自定义的名称；子表字段需要带<code>F_</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子表隐藏</span></span><br><span class="line">_this.<span class="property">permission</span>.<span class="property">table</span>.子表名.<span class="property">hidden</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//子表字段隐藏</span></span><br><span class="line">_this.<span class="property">permission</span>.<span class="property">fields</span>.子表名.子表字段 = <span class="string">&#x27;n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//子表数据只读</span></span><br><span class="line">_this.<span class="property">permission</span>.<span class="property">fields</span>.子表名.子表字段 = <span class="string">&#x27;r&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//子表字段赋值(一对一)</span></span><br><span class="line">data.主表名.<span class="property">sub_</span>子表名[<span class="number">0</span>].子表字段 = 赋值数据</span><br><span class="line"></span><br><span class="line"><span class="comment">//子表字段赋值(一对多)</span></span><br><span class="line">data.主表名.<span class="property">sub_</span>子表名.<span class="title function_">push</span>(&#123;子表字段: 赋值数据, 子表字段: 赋值数据&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取子表字段数据</span></span><br><span class="line"><span class="keyword">let</span> dataVal = _this.<span class="property">formData</span>.主表名.<span class="property">sub_</span>子表名.子表字段</span><br></pre></td></tr></table></figure>

<h4 id="属性监测"><a href="#属性监测" class="headerlink" title="属性监测"></a>属性监测</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">_this.$watch(<span class="string">&#x27;data.表名.表字段&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">immediate</span>: <span class="literal">true</span>,	<span class="comment">//当刷新页面时会立即执行一次handler函数</span></span><br><span class="line">    <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(newVAl !== <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">            <span class="comment">//表字段无值时</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//表字段有值时</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="按钮对应的参数输出"><a href="#按钮对应的参数输出" class="headerlink" title="按钮对应的参数输出"></a>按钮对应的参数输出</h4><table>
<thead>
<tr>
<th>按钮类型</th>
<th><code>_this._props.action</code></th>
<th><code>_this._props.nodeId</code></th>
</tr>
</thead>
<tbody><tr>
<td>新增</td>
<td>add</td>
<td>undefined</td>
</tr>
<tr>
<td>编辑</td>
<td>edit</td>
<td>undefined</td>
</tr>
<tr>
<td>明细</td>
<td>detail</td>
<td>undefined</td>
</tr>
<tr>
<td>启动流程(行内)</td>
<td>flow-edit</td>
<td>StartEvent1</td>
</tr>
<tr>
<td>启动流程(顶部)</td>
<td>flow-add</td>
<td>StartEvent1</td>
</tr>
<tr>
<td>审批过程查看</td>
<td>flow-edit</td>
<td>非StartEvent1</td>
</tr>
</tbody></table>
<h2 id="表单列表"><a href="#表单列表" class="headerlink" title="表单列表"></a>表单列表</h2><h3 id="自定义界面弹窗"><a href="#自定义界面弹窗" class="headerlink" title="自定义界面弹窗"></a>自定义界面弹窗</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//明细</span></span><br><span class="line"><span class="comment">// customComponent：对应的弹窗组件，固定写法，其中 dynamicImport 函数的参数表示自定义弹窗页面的路径，相对于 src/views/ 文件夹</span></span><br><span class="line">_this.<span class="property">customComponent</span> = _this.<span class="title function_">dynamicImport</span>(<span class="string">&#x27;components/CustomFormPreview.vue&#x27;</span>)</span><br><span class="line"><span class="comment">// customComponentParams：传递给自定义弹窗组件的参数，默认为&#123;&#125;空对象，所有需要传递的参数都通过该对象传递</span></span><br><span class="line">_this.<span class="property">customComponentParams</span> = &#123;</span><br><span class="line">  	<span class="attr">type</span>: <span class="string">&#x27;form&#x27;</span>,</span><br><span class="line">	<span class="attr">templateKey</span>: <span class="string">&#x27;xhxmxd&#x27;</span>,</span><br><span class="line">  	<span class="attr">action</span>: <span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line">  	<span class="attr">dataId</span>: _row.<span class="property">ssxmid</span>,</span><br><span class="line">&#125;</span><br><span class="line">_this.<span class="property">customComponentVisible</span> = <span class="literal">true</span>		<span class="comment">// 打开自定义的弹出组件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//启动流程</span></span><br><span class="line">_this.<span class="property">customComponent</span> = _this.<span class="title function_">dynamicImport</span>(<span class="string">&#x27;components/CustomFormPreview.vue&#x27;</span>)</span><br><span class="line">_this.<span class="property">selfDefinedParams</span>.<span class="property">fileDate</span>=_this.<span class="property">checkedTableData</span></span><br><span class="line">_this.<span class="property">customComponentParams</span> = &#123;</span><br><span class="line"> 	<span class="attr">type</span>: <span class="string">&#x27;flow&#x27;</span>,</span><br><span class="line">  	<span class="attr">flowId</span>: <span class="string">&#x27;1526389527684317184&#x27;</span>,</span><br><span class="line">	<span class="attr">templateKey</span>: <span class="string">&#x27;dmchxxhwj&#x27;</span>,</span><br><span class="line">  	<span class="attr">action</span>: <span class="string">&#x27;flow-add&#x27;</span>,</span><br><span class="line">  	<span class="attr">dataId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  	<span class="attr">formStyle</span>: &#123;&#125;,</span><br><span class="line">  	<span class="attr">selfDefinedParams</span>: _this.<span class="property">selfDefinedParams</span></span><br><span class="line">&#125;</span><br><span class="line">_this.<span class="property">customComponentVisible</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="行内按钮显示设置"><a href="#行内按钮显示设置" class="headerlink" title="行内按钮显示设置"></a>行内按钮显示设置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">row.<span class="property">spzt</span>==<span class="string">&#x27;未发起&#x27;</span></span><br><span class="line"></span><br><span class="line">row.<span class="property">spzt</span>==<span class="string">&#x27;审批中&#x27;</span>||row.<span class="property">spzt</span>==<span class="string">&#x27;已审批&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="流程管理"><a href="#流程管理" class="headerlink" title="流程管理"></a>流程管理</h1><h2 id="流程设计"><a href="#流程设计" class="headerlink" title="流程设计"></a>流程设计</h2><h3 id="流程中状态字段变更"><a href="#流程中状态字段变更" class="headerlink" title="流程中状态字段变更"></a>流程中状态字段变更</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法一：请求后台处理</span></span><br><span class="line"><span class="keyword">let</span> res = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">&#x27;/pm/common/conditionUpdate&#x27;</span><span class="comment">//后端代码的请求路径</span></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;UPDATE&#x27;</span>,</span><br><span class="line">    <span class="attr">tableName</span>: <span class="string">&#x27;w_xmb&#x27;</span>,</span><br><span class="line">    <span class="attr">updateFields</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;F_xmzt&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="string">&#x27;审批中&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">conditionFields</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;E&#x27;</span>,	<span class="comment">//E相当&#x27;=&#x27;</span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;ID_&#x27;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="string">&#x27;xxxxxxxxxxxxx&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> _req.<span class="title function_">post</span>(url,data)</span><br><span class="line"><span class="keyword">if</span>(response.<span class="property">meta</span>.<span class="property">success</span>)&#123;</span><br><span class="line">    res = <span class="literal">true</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    _this.<span class="title function_">message</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="attr">center</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">message</span>: response.<span class="property">meta</span>.<span class="property">message</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法二：前端初始化设置（必须写在前置脚本中）</span></span><br><span class="line">_this.<span class="property">formData</span>.<span class="property">xmb</span>.<span class="property">xmzt</span> = <span class="string">&#x27;审批中&#x27;</span>	<span class="comment">//验证可行</span></span><br><span class="line">formData.<span class="property">xmb</span>.<span class="property">xmzt</span> = <span class="string">&#x27;审批中&#x27;</span>	<span class="comment">//未验证</span></span><br></pre></td></tr></table></figure>

<h1 id="JS代码技巧"><a href="#JS代码技巧" class="headerlink" title="JS代码技巧"></a>JS代码技巧</h1><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/472723410?utm_source=wechat_session&utm_medium=social&utm_oi=576028259586674688&utm_campaign=shareopn">知乎：20个JS技巧</a></p>
<h2 id="删除数组中重复值"><a href="#删除数组中重复值" class="headerlink" title="删除数组中重复值"></a>删除数组中重复值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法一</span></span><br><span class="line"><span class="keyword">let</span> array1 = [<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> array2 = array1.<span class="title function_">filter</span>(<span class="function">(<span class="params">item,idx,arr</span>)=&gt;</span>arr.<span class="title function_">indexOf</span>(item)===idx)</span><br><span class="line"><span class="comment">//[5,4,7,8,9,2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法二</span></span><br><span class="line"><span class="keyword">let</span> array1 = [<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> array2 = [...<span class="keyword">new</span> <span class="title class_">Set</span>(array1)]</span><br></pre></td></tr></table></figure>

<h2 id="合并数组或对象"><a href="#合并数组或对象" class="headerlink" title="合并数组或对象"></a>合并数组或对象</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//合并数组</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="keyword">let</span> array = [...arr1,...arr2]		<span class="comment">//[1,2,3,4,5,6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//合并对象</span></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;李四&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> object = &#123;...obj1,...obj2&#125;</span><br></pre></td></tr></table></figure>

<h2 id="求数组总和、最大值与最小值"><a href="#求数组总和、最大值与最小值" class="headerlink" title="求数组总和、最大值与最小值"></a>求数组总和、最大值与最小值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">2</span>]</span><br><span class="line">array.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a+b) 		<span class="comment">//总和：35</span></span><br><span class="line">array.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a&gt;b?<span class="attr">a</span>:b)	<span class="comment">//最大值：9</span></span><br><span class="line">array.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a&lt;b?<span class="attr">a</span>:b)	<span class="comment">//最大值：2</span></span><br></pre></td></tr></table></figure>

<h2 id="空值合并运算符"><a href="#空值合并运算符" class="headerlink" title="空值合并运算符??"></a>空值合并运算符<code>??</code></h2><blockquote>
<p>功能：a ?? b  如果a是已定义的，即非null或undefined，则返回a；如果as不是已定义的，即为null或undefined，则返回b；</p>
</blockquote>
<h1 id="表单问题"><a href="#表单问题" class="headerlink" title="表单问题"></a>表单问题</h1><ol>
<li>数据视图中某些字段未保存成功：这些字段是后续增加的，而该数据视图绑定的子表所在主表中这些新增的子表字段未更新！</li>
</ol>
<h1 id="流程问题"><a href="#流程问题" class="headerlink" title="流程问题"></a>流程问题</h1><ol>
<li>点击流程启动按钮，界面一直在转圈：发起流程的第一个用户任务节点需要设置执行人，默认为发起人。</li>
</ol>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2022/06/05/%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3/">概念理解</a><a class="next" href="/2022/06/05/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">前端学习</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://example.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3/">概念理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">前端学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/%E4%B8%80%E5%A4%A9%E4%B8%80%E4%B8%AA%E5%B0%8F%E6%8A%80%E5%B7%A7/">一天一个小技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/Postman%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">Postman使用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/3.x%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91/">3.x平台开发</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/3.x%E5%B9%B3%E5%8F%B0%E5%88%9D%E5%A7%8B%E5%8C%96/">3.x平台初始化</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2022 <a href="/." rel="nofollow">Hexo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>